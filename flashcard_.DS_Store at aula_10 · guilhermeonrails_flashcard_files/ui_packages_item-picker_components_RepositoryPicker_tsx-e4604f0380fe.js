"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_item-picker_components_RepositoryPicker_tsx"],{19335:(e,l,a)=>{a.d(l,{S:()=>n});let n={couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotSearchLabels:"Could not search labels",couldNotUpdateMilestone:"Could not update milestone",couldNotUpdateType:"Could not update type",couldNotSearchMilestones:"Could not search milestones",couldNotUpdateIssueType:"Could not update issue type",couldNotSearchRepositories:"Could not search repositories",couldNotSearchPullRequests:"Could not search pull requests",couldNotSearchProjects:"Could not search projects",couldNotSearchBranches:"Could not search branches",noMatches:"No matches",noResults:"No results",couldNotCreateBranch:"Could not create branch",couldNotCreateLabel:"Could not create label",couldNotCreateMilestone:"Could not create milestone",branchAlreadyExists:e=>`The branch ${e} already exists.`}},20952:(e,l,a)=>{a.d(l,{B:()=>n});let n={itemPickerRootId:"item-picker-root-id",itemPickerTestId:"item-picker-root"}},5979:(e,l,a)=>{a.d(l,{k:()=>n});let n={noAssignees:"Assignee",assignees:"Assignees",assigneesHeader:e=>`Assign up to ${e} people to this issue`,cantEditItems:e=>`Cannot edit ${e} right now`,copilotDisplayName:"Copilot",copilotDescription:"Your AI pair programmer",noLabels:"Label",labels:"Labels",labelsHeader:"Apply labels to this issue",editLabels:"Edit labels",noProjects:"Project",noMilestones:"Milestone",milestonesHeader:"Set milestone",issueHeader:"Choose issue",noIssues:"Issue",noIssueTypes:"Issue Type",filterOrganizations:"Filter organizations",organizationLabel:"Organization",selectAssignees:"Select assignees",selectMilestones:"Select milestone",selectIssue:"Select issue",selectIssueTypes:"Select issue type",typesHeader:"Select issue type",selectProjects:"Select projects",selectLabels:"Select labels",selectRepository:"Select repository",selectBranch:"Select a branch",selectPr:"Select a pull request",searchPr:"Search pull requests",maxPRsLinkingWarning:"You may only link 10 pull requests to this issue across all repositories.",filterUsers:e=>`Filter ${e.toLowerCase()}s`,filterMilestones:"Filter milestones",filterIssueTypes:"Filter issue types",filterProjects:"Filter projects",noPullRequest:"no pull request",milestones:{pastDue:"Past due by",milestoneClosed:"Closed",milestoneDue:"Due by",noDueDate:"No due date",progressPercentage:e=>e?`, ${Math.round(e)}% complete`:", not started"},testIds:{relativeTimeDescription:"relative-time-description"},getNumberOfSelectedPrsLabel:e=>1===e?`${e} pull request selected`:`${e} pull requests selected`,projectItemsLimitReached:"This project reached the maximum number of items allowed currently (1200 items). To add more, please archive or delete existing items from it.",closeButton:"Close dialog",projectItemsLimitReachedDialogLabel:"Project items limit reached dialog",projectItemsLimitReachedDialogTitle:"Project limits reached",projectItemsLimitReachedDialogMessage:"One or more of the projects you selected reached the maximum number of items allowed currently (1200 items). To add more, please archive or delete existing items from the selected project(s).",limitWarning:e=>1===e?`You have reached the limit of ${e} assignee`:`You have reached the limit of ${e} assignees`}},14156:(e,l,a)=>{a.d(l,{Z:()=>n});let n={activePickerOption:e=>`[data-id="${e}"] [data-is-active-descendant="activated-directly"]`}},36538:(e,l,a)=>{a.d(l,{t:()=>n});let n={pickerDebounceTime:200,labelsPageSize:50,labelsInitialLoadCount:100,milestonesPageSize:100,milestonesMaxPreloadCount:1e3,organizationsMaxPreloadCount:1e3,organizationsPageSize:100,maximumSuggestedUsers:30}},26071:(e,l,a)=>{a.d(l,{A2:()=>u,J4:()=>o,Q3:()=>s,v8:()=>r});var n=a(38621),i=a(19335);let s={leadingVisual:n.CircleSlashIcon,text:i.S.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},r={leadingVisual:n.CircleSlashIcon,text:i.S.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"},t=e=>{try{new URL(e)}catch{return!1}return new RegExp(/^.+\/issues\/\d+$/).test(e)};function o(e,l,a,n,i){let s=e.indexOf("/"),r="in:name archived:false";if(a&&(r=`${r} -repo:${a}`),n&&(r=`${r} fork:true`),i&&"PUBLIC"!==i&&(r=`${r} -visibility:public`),s>0&&2===e.split("/").length){let l=e.split("/")[0],a=e.split("/")[1];return`${r} org:${l} ${a}`}return l?`${r} org:${l} ${e}`:`${r} ${e}`}let u=(e="",l="",a="")=>{let n=e&&`owner:${e.trim()} `,i=a&&`repo:${a.trim()} `,s=l&&`${l.trim()}`,r=t(l),o="in:title",u=s&&"#"===s.charAt(0)?s.slice(1):s;u&&!isNaN(Number(u))&&(o+=" in:number");let d=`${n}${i}is:issue ${o}`;return{commenters:`${d} commenter:@me ${s}`.trim(),mentions:`${d} mentions:@me ${s}`.trim(),assignee:`${d} assignee:@me ${s}`.trim(),author:`${d} author:@me ${s}`.trim(),other:`${d} ${s}`.trim(),resource:r?encodeURI(l):"",queryIsUrl:r}}},81356:(e,l,a)=>{a.d(l,{AR:()=>s,_N:()=>r});var n=a(38568),i=a(96540);let s={ctrlKey:"ctrlKey",altKey:"altKey",shiftKey:"shiftKey",metaKey:"metaKey"},r=(e,l,a)=>{let r=(0,i.useRef)(l);(0,n.N)(()=>{r.current=l});let t=(0,i.useCallback)(l=>{!([...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')].some(function e(l){if(l.clientHeight>0)return!0;for(let a of l.children)if(e(a))return!0;return!1})&&!a?.triggerWhenPortalIsActive||!function(e,l){for(let a of Object.values(s))if(l&&l[a]&&!e[a]||e[a]&&(!l||!l[a]))return!1;return!0}(l,a)&&!a?.ignoreModifierKeys||!a?.triggerWhenInputElementHasFocus&&function(e){return e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement}(l))&&e.some(e=>/^\d$/.test(e)?l.code===`Digit${e}`:"/"===e?"Slash"===l.code:l.key===e)&&r.current(l)},[e,a]);(0,i.useEffect)(()=>{let e=a?.scopeRef?.current||document;return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)},[t,a?.scopeRef])}},3893:(e,l,a)=>{a.d(l,{D:()=>k,O:()=>p});var n=a(74848),i=a(81356),s=a(58748),r=a(3830),t=a(96540),o=a(67737),u=a(26071),d=a(20952),c=a(14156),g=a(11499),m=a(75632),y=a(15033);function p({items:e,initialSelectedItems:l,placeholderText:a,selectionVariant:p,loading:F,groups:b,filterItems:f,renderAnchor:K,getItemKey:h,convertToItemProps:S,onSelectionChange:v,onOpen:R,onClose:I,height:P="small",width:C="small",selectPanelRef:L,enforceAtleastOneSelected:T,insidePortal:w,maxVisibleItems:N=9,nested:E=!1,resultListAriaLabel:_,title:D,subtitle:x,preventClose:A,triggerOpen:$,initialFilter:U,customNoResultsItem:O,customNoMatchItem:V,footer:M,keybindingCommandId:j,pickerId:Q,responsiveOnNarrow:z,secondaryAction:q,notice:B,className:W,portalContainerName:H,improvedNoMatchAccessibility:Y}){let[X,G]=(0,t.useState)($??!1),[J,Z]=(0,t.useState)([]),[ee,el]=(0,t.useState)(U??""),{updateOpenState:ea,anyItemPickerOpen:en}=(0,o.t)(),[ei,es]=(0,t.useState)(!1),er=(0,t.useId)();Q&&(er=Q);let et=(0,m.G7)("issues_react_blur_item_picker_on_close"),eo=z||(0,m.G7)("primer_react_select_panel_fullscreen_on_narrow");(0,s.w)(()=>{es(window.innerWidth<768)}),(0,t.useEffect)(()=>{void 0!==$&&G($)},[$]);let eu=(0,t.useCallback)(()=>{en()||X||(G(!0),R&&R())},[en,X,R]);(0,t.useEffect)(()=>{ea(er,X)},[er,X,ea]);let ed=(0,t.useMemo)(()=>new Map,[er,l]),ec=(0,t.useCallback)((e,l)=>{let a=h(e),n=ed.get(a);if(n)return n;(n=S(e)).selected=l;let i=n.onAction;return n.onAction=(l,n)=>{let s=ed.get(a);if(s){if(s.selected=!s.selected,"single"===p&&e.id!==ee)for(let[,e]of ed)e!==s&&(e.selected=!1);i&&i(l,n)}},ed.set(a,n),n},[S,ee,h,ed,p]),eg=(0,t.useCallback)(e=>"string"==typeof e?e:h(e),[h]),em=(0,t.useMemo)(()=>{let a=e.map(e=>e.__isNew__?(delete e.__isNew__,V&&ed.delete(h(V)),ec(e,!0)):ec(e,l.some(l=>eg(l)===h(e))));return 0===a.length?Y?[]:V?[ec(V,!1)]:ee?[V??u.Q3]:[O??u.v8]:a},[V,e,ed,ec,l,eg,h,ee,O,Y]);(0,t.useEffect)(()=>{Z(em.filter(e=>e.selected))},[em]);let ey=(0,t.useMemo)(()=>"single"===p?J[0]:J,[J,p]),ep=(0,t.useCallback)(e=>{if(void 0===e){T||Z([]);return}Z((Array.isArray(e)?e:[e]).map(e=>em.find(l=>e.id===l.id)).filter(e=>void 0!==e))},[T,em]);(0,i._N)([" "],e=>{if(X){let l=document.querySelector(c.Z.activePickerOption(d.B.itemPickerRootId));if(l){let a=l.getAttribute("data-id"),n=[...ed.values()].find(e=>e.id===a);n&&(e.preventDefault(),e.stopPropagation(),n.selected=!n.selected,Z([...ed.values()].filter(e=>e.selected)))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let ek=(0,t.useCallback)((e,a)=>{if(A&&!e||"cancel"===a)return;if(et&&!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),G(e),e&&R){R();return}el(""),I&&I();let n=[...ed.values()].filter(e=>e.selected).map(e=>e.source);(n.length!==l.length||n.some(e=>!l.some(l=>eg(l)===h(e))))&&v(n)},[A,I,ed,l,R,eg,h,v,et]),eF=(0,t.useCallback)(()=>{if(A)return;el("");let e=[...ed.values()].filter(e=>e.selected).map(e=>e.source);if(e.length!==l.length||e.some(e=>!l.some(l=>eg(l)===h(e)))){for(let e of ed.values())l.some(l=>eg(l)===h(e.source))?e.selected=!0:e.selected=!1;Z([...ed.values()].filter(e=>e.selected))}G(!1),I&&I()},[A,ed,l,I,eg,h]);(0,t.useEffect)(()=>{f(ee)},[ee,f]);let eb=em.length>0;1===em.length&&(em[0].id===u.Q3.id||em[0].id===u.v8.id)&&(eb=!1);let ef=(0,t.useMemo)(()=>b&&b?.length>1&&eb?{groupMetadata:b}:{},[b,eb]),eK=k(w,L,em.length<=N?"auto":P,ei&&eo),eh=(0,t.useMemo)(()=>({renderAnchor:K,placeholderText:a,open:X,onOpenChange:ek,loading:F,items:em,selected:ey,onSelectedChange:ep,filterValue:ee,onFilterChange:el,showItemDividers:!0,overlayProps:{width:C,className:W,portalContainerName:H,...eK},...ef,"aria-label":_,"data-id":d.B.itemPickerRootId,"data-testid":d.B.itemPickerTestId,title:D,subtitle:x,footer:M,onCancel:eF,secondaryAction:q,notice:B,message:Y&&0===em.length?ee?{variant:"empty",title:"No matches found",body:"Try a different search term"}:{variant:"empty",title:"No items to show",body:""}:void 0}),[K,a,X,ek,F,em,ey,ep,ee,C,eK,ef,_,D,x,M,eF,q,B,W,H,Y]);return(0,n.jsxs)(y.g,{flags:{primer_react_select_panel_with_modern_action_list:!0,primer_react_select_panel_fullscreen_on_narrow:void 0===M&&eo},children:[j&&(0,n.jsx)(g.ak,{commands:{[j]:eu}}),(0,n.jsx)(r.X,{anchorRef:E?void 0:L,...eh})]})}function k(e,l,a,n=!1){let i=e?"large":a;if(!e||!l?.current)return{height:i};let{top:s,left:r}=l.current.getBoundingClientRect(),t=n?0:s-436;return t<0?{height:i}:{height:i,top:t,left:n?0:r,position:"fixed"}}try{p.displayName||(p.displayName="ItemPicker")}catch{}},10833:(e,l,a)=>{a.d(l,{R6:()=>C,f0:()=>T,ow:()=>w,i_:()=>L,XD:()=>P,m:()=>v,Sy:()=>R,DW:()=>S,Xl:()=>I});var n=a(74848);let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},a=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},u={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},b={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},R={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerCurrentRepoQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[n,i,s,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[i,t,o,u],storageKey:null},d,c,g,m,y,p,k,F,b,f,K,h,S,v,R],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerCurrentRepoQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,i,s,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i,t,o,u,n],storageKey:null},d,c,g,m,y,p,k,F,b,f,K,h,S,v,R],storageKey:null}]},params:{id:"c3fc13fb735b3e4e4ead118221a93118",metadata:{},name:"RepositoryPickerCurrentRepoQuery",operationKind:"query",text:null}}}();i.hash="9a52cb1e86ad007165589ba8bfc9e6a1";let s=function(){var e={defaultValue:null,kind:"LocalArgument",name:"hasIssuesEnabled"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:10,kind:"LocalArgument",name:"topRepositoriesFirst"},n={kind:"Variable",name:"hasIssuesEnabled",variableName:"hasIssuesEnabled"},i={kind:"Variable",name:"owner",variableName:"owner"},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{fragment:{argumentDefinitions:[e,l,a],kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[n,i,{kind:"Variable",name:"topRepositoriesFirst",variableName:"topRepositoriesFirst"}],kind:"FragmentSpread",name:"RepositoryPickerTopRepositories"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,l],kind:"Operation",name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},n,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},i],concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[s,r,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},s],storageKey:null}]},params:{id:"36ef2b154b93fcac55e61a670a7c3508",metadata:{},name:"RepositoryPickerTopRepositoriesQuery",operationKind:"query",text:null}}}();s.hash="73e96d7c429663ba233d926c532b97e4";let r=function(){var e={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"hasIssuesEnabled"},{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:10,kind:"LocalArgument",name:"topRepositoriesFirst"}],kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositories",selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},{kind:"Variable",name:"hasIssuesEnabled",variableName:"hasIssuesEnabled"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}}();r.hash="d57ff072515ddc886c611e82b42e0bde";let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"searchQuery"},a=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"searchQuery"},{kind:"Literal",name:"type",value:"REPOSITORY"}],n={alias:null,args:null,kind:"ScalarField",name:"repositoryCount",storageKey:null},i={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},c={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},K={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},P={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[s,r,t,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r,u,d,c],storageKey:null},g,m,y,p,k,F,b,f,K,h,S,v,R,I,P],args:null,argumentDefinitions:[]}],type:"Repository",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[n,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[C,{kind:"InlineFragment",selections:[s,r,t,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[C,r,u,d,c,s],storageKey:null},g,m,y,p,k,F,b,f,K,h,S,v,R,I,P],type:"Repository",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"e977caea1df8a74eec6f3924196faae9",metadata:{},name:"RepositoryPickerSearchRepositoriesQuery",operationKind:"query",text:null}}}();t.hash="d55c88eae1b92354a9ca57beeaa62299";let o=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueId"},l={defaultValue:null,kind:"LocalArgument",name:"searchQuery"},a=[{kind:"Variable",name:"id",variableName:"issueId"}],n=[{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"searchQuery"}],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},d={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"isBlankIssuesEnabled",storageKey:null},f={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},I={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerPossibleTransferRepositoriesQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"RepositoryConnection",kind:"LinkedField",name:"possibleTransferRepositoriesForViewer",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[i,s,r,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,o,u,d],storageKey:null},c,g,m,y,p,k,F,b,f,K,h,S,v,R,I],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerPossibleTransferRepositoriesQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[P,{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"RepositoryConnection",kind:"LinkedField",name:"possibleTransferRepositoriesForViewer",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,r,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[P,s,o,u,d,i],storageKey:null},c,g,m,y,p,k,F,b,f,K,h,S,v,R,I],storageKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null},i],storageKey:null}]},params:{id:"1d10879398bedfbb624294a2fa55effd",metadata:{},name:"RepositoryPickerPossibleTransferRepositoriesQuery",operationKind:"query",text:null}}}();o.hash="1ef5b2852bfdfa6a351139b04aa4fefc";let u={kind:"InlineDataFragment",name:"RepositoryPickerRepository"};u.hash="ff5428832236841e971734bb06bf5181";var d=a(55516),c=a(67136),g=a(38621),m=a(55847),y=a(75177),p=a(96540),k=a(18312),F=a(19335),b=a(5979),f=a(3893),K=a(26071),h=a(36538);let S=(e,l="",a="")=>(0,k.fetchQuery)(e,i,{owner:l,name:a},{fetchPolicy:"store-or-network"}),v=s,R=r,I=(e,l=10,a)=>(0,k.fetchQuery)(e,v,{topRepositoriesFirst:l,hasIssuesEnabled:a},{fetchPolicy:"store-or-network"}),P=t,C=u,L=()=>(0,n.jsx)(m.Q,{leadingVisual:g.RepoIcon,trailingVisual:g.TriangleDownIcon,disabled:!0,children:b.k.selectRepository});function T({topReposQueryRef:e,...l}){let a=(0,k.usePreloadedQuery)(v,e);return a.viewer?(0,n.jsx)(w,{...l,topRepositoriesData:a.viewer}):null}function w({initialRepository:e,onSelect:l,preventDefault:a,organization:i,topRepositoriesData:s,focusRepositoryPicker:r,enforceAtleastOneSelected:t,options:{hasIssuesEnabled:u,readonly:S,includeForks:v}={hasIssuesEnabled:void 0,readonly:!1,includeForks:!1},renderTrailingVisual:I,exclude:L,"aria-labelledby":T,"aria-describedby":w,anchorElement:N,title:E,subtitle:_,preventClose:D,triggerOpen:x,onOpen:A,onClose:$,ignoredRepositories:U,repositoryFilter:O,customNoResultsItem:V,repoNameOnly:M,pickerId:j,currentRepoVisibility:Q,issueId:z,responsiveOnNarrow:q,portalContainerName:B}){let{addToast:W}=(0,c.Y6)(),[H,Y]=(0,p.useState)(e),[X,G]=(0,p.useState)(""),[J,Z]=(0,p.useState)(void 0),[ee,el]=(0,p.useState)(null==s),ea=(0,p.useRef)(X);(0,p.useEffect)(()=>{null!=s&&el(!1)},[s]);let en=(0,k.useRelayEnvironment)(),ei=(0,p.useCallback)(e=>{if(z){if(""===e.trim()){Z(void 0),el(!1);return}el(!0),(0,k.fetchQuery)(en,o,{searchQuery:e,issueId:z}).subscribe({next:l=>{if(null!==l){let a=(l.node?.possibleTransferRepositoriesForViewer?.edges||[]).flatMap(e=>e?.node?[(0,k.readInlineData)(C,e.node)]:[]),n=ea.current;e.trim()===n.trim()&&(Z(a),el(!1))}},error:()=>{el(!1)}})}},[en,z]),es=(0,p.useCallback)((e,l)=>{if(""===e.trim()){Z(void 0),el(!1);return}el(!0),(0,k.fetchQuery)(en,P,{searchQuery:(0,K.J4)(e,i,L,v,Q)}).subscribe({next:a=>{if(null!==a){let n=(a.search.nodes||[]).flatMap(e=>e?[(0,k.readInlineData)(C,e)]:[]);u&&(n=n.filter(e=>e.hasIssuesEnabled===u));let i=n.sort((e,a)=>l.includes(e.owner.login)&&!l.includes(a.owner.login)?-1:!l.includes(e.owner.login)&&l.includes(a.owner.login)?1:e.owner.login.localeCompare(a.owner.login));if(U){let e=new Set(U);i=i.filter(l=>!e.has(l.nameWithOwner))}O&&(i=i.filter(O));let s=ea.current;e.trim()===s.trim()&&(Z(i),el(!1))}},error:()=>{el(!1),W({type:"error",message:F.S.couldNotSearchRepositories})}})},[en,i,L,v,u,U,O,W,Q]),er=(0,d.d)(e=>{z?ei(e):es(e,em)},h.t.pickerDebounceTime),et=(0,p.useCallback)(e=>e.id,[]),eo=(0,p.useRef)(null);(0,p.useEffect)(()=>{r&&eo.current?.focus()},[eo,r]);let eu=(0,p.useCallback)(({...l})=>N?N(l):(0,n.jsx)(m.Q,{leadingVisual:g.RepoIcon,trailingVisual:g.TriangleDownIcon,"aria-label":T?void 0:b.k.selectRepository,"aria-labelledby":T,"aria-describedby":w,...l,disabled:S,ref:eo,children:e?(0,n.jsx)("span",{children:M?e.name:`${e.owner.login}/${e.name}`}):b.k.selectRepository}),[N,w,T,e,S,M]),ed=(0,p.useCallback)(e=>({id:`${e.id}_${e.databaseId}_${e.slashCommandsEnabled}`,children:(0,n.jsx)("span",{children:M?e.name:`${e.owner.login}/${e.name}`}),source:e,leadingVisual:()=>e.isPrivate?(0,n.jsx)(g.LockIcon,{size:12}):(0,n.jsx)(g.RepoIcon,{size:12}),trailingVisual:I?.(e.id),sx:{wordBreak:"break-word"}}),[I,M]),ec=(0,k.useFragment)(R,s),eg=(0,p.useMemo)(()=>{let l=(ec?.topRepositories.edges||[]).flatMap(e=>e?.node?[(0,k.readInlineData)(C,e.node)]:[]);if(H&&!l.find(e=>e.id===H.id)&&(l=[H,...l]),e&&!l.find(l=>l.id===e.id)&&(l=[e,...l]),i&&(l=l.filter(e=>e.owner.login===i)),L&&(l=l.filter(e=>e.nameWithOwner!==L)),U){let e=new Set(U);l=l.filter(l=>!e.has(l.nameWithOwner))}return l.slice(0,10)},[L,H,e,i,U,ec]),em=(0,p.useMemo)(()=>[...new Set(eg.map(e=>e.owner.login))],[eg]),ey=(0,p.useMemo)(()=>{if(J)return J;let e=eg.filter(e=>!e.isArchived);return O?e.filter(O):e},[eg,O,J]);(0,p.useEffect)(()=>{e||!(ey.length>0)||a||l(ey[0])},[]);let ep=(0,p.useCallback)(e=>{if(S)return;let l=e.trim();X!==l&&(er(l),G(l),ea.current=l)},[S,X,er]);return(0,n.jsx)(y.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,n.jsx)(f.O,{items:ey,initialSelectedItems:e?[e]:[],filterItems:ep,getItemKey:et,convertToItemProps:ed,placeholderText:b.k.selectRepository,selectionVariant:"single",onSelectionChange:([e])=>l(e),loading:ee,renderAnchor:eu,selectPanelRef:eo,enforceAtleastOneSelected:t,resultListAriaLabel:"Repository results",height:"large",width:"medium",title:E,subtitle:_,preventClose:D,triggerOpen:x,onOpen:A,onClose:$,customNoResultsItem:V?{children:V}:void 0,pickerId:j,responsiveOnNarrow:q,portalContainerName:B})})}try{L.displayName||(L.displayName="RepositoryPickerPlaceholder")}catch{}try{T.displayName||(T.displayName="RepositoryPicker")}catch{}try{w.displayName||(w.displayName="RepositoryPickerInternal")}catch{}},67737:(e,l,a)=>{a.d(l,{D:()=>r,t:()=>t});var n=a(74848),i=a(96540);let s=(0,i.createContext)({updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function r({children:e}){let l=(0,i.useRef)({}),a=(0,i.useCallback)((e,a)=>{let n=l.current;return n[e]===a||(l.current={...n,[e]:a}),l.current},[]),r=(0,i.useCallback)(()=>Object.values(l.current).some(e=>e),[l]),t=(0,i.useMemo)(()=>({updateOpenState:a,anyItemPickerOpen:r}),[r,a]);return(0,n.jsx)(s.Provider,{value:t,children:e})}function t(){let e=(0,i.useContext)(s);if(!e)throw Error("useItemPickersContext must be used within a ItemPickersContextProvider.");return e}try{s.displayName||(s.displayName="ItemPickersContext")}catch{}try{r.displayName||(r.displayName="ItemPickersContextProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_item-picker_components_RepositoryPicker_tsx-9ddbc4ff663f.js.map